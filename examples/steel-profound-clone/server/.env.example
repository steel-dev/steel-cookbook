# ------------------------------------------------------------------------------
# steel-profound-clone (server) â€“ Example Environment Variables
# Copy this file to .env and fill in the values as needed.
#
# This file configures only the server workspace (Fastify + TypeScript).
# The server uses dotenv at startup to load variables from ./server/.env.
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Server configuration
# ------------------------------------------------------------------------------
# Host/IP to bind the Fastify server to
HOST=0.0.0.0

# Port to run the Fastify server on
PORT=3000

# Log level for Fastify: fatal | error | warn | info | debug | trace | silent
LOG_LEVEL=info

# Optional: Node environment (development|production|test)
NODE_ENV=development

# ------------------------------------------------------------------------------
# Storage (DuckDB)
# ------------------------------------------------------------------------------
# Location of the DuckDB file that stores responses.
# Resolution order in server/src/lib/db.ts:
# 1) DUCKDB_PATH (absolute or relative to process.cwd())
# 2) RESPONSES_DB_PATH (legacy/custom)
# 3) DATA_DIR + '/responses.duckdb'
# 4) Default: <repo>/app/data/responses.duckdb
#
# Uncomment one of the following lines to customize:
# DUCKDB_PATH=./data/responses.duckdb
# RESPONSES_DB_PATH=./data/responses.duckdb
# DATA_DIR=./data

# ------------------------------------------------------------------------------
# Steel.dev API (required for Playwright automations)
# ------------------------------------------------------------------------------
# Get your API key: https://app.steel.dev/settings/api-keys
STEEL_API_KEY=

# ------------------------------------------------------------------------------
# OpenRouter API (fallback + providers without links)
# ------------------------------------------------------------------------------
# Used as a fallback when site automation fails and for providers without links
# (e.g., Claude). Get your API key: https://openrouter.ai/keys
OPENROUTER_API_KEY=

# Optional: site URL for attribution/ranking in OpenRouter
OPENROUTER_REFERER=http://localhost

# Optional: site title for attribution/ranking in OpenRouter
OPENROUTER_TITLE=steel-profound-clone

# Optional: override base URL (default: https://openrouter.ai/api/v1)
# OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# ------------------------------------------------------------------------------
# Notes
# ------------------------------------------------------------------------------
# - Keep API keys secret; never commit your real keys to version control.
# - The server exposes:
#     POST /query   -> runs automations and OpenRouter fallbacks
#     GET  /results -> returns recent DuckDB rows for the web UI
#     GET  /healthz -> liveness check
# - In development, the web app proxies API routes to the server (see web/vite.config.ts).
